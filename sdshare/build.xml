<project name="ontopia" default="jar" basedir=".">

  <!-- Initialize properties -->
  <target name="init">
    <property name="build.compiler" value="modern" />
    <property name="build.root" value="${basedir}/build" />
    <property name="build.classes" value="${build.root}/classes" />
    <property name="build.jars" value="${build.root}/jars" />
  </target>

  <!-- Patterns -->
  <patternset id="sources">
    <include name="src/net/ontopia/topicmaps/utils/sdshare/*.java" />
  </patternset>

  <patternset id="classes">
    <include name="net/ontopia/topicmaps/utils/sdshare/*.class" />
  </patternset>

  <!-- Compile -->  
  <target name="compile" depends="init">
    <mkdir dir="${build.classes}"/>
    <javac srcdir="${basedir}" destdir="${build.classes}"
           debug="yes" debuglevel="source,lines,vars">
      <patternset refid="sources" />
    </javac>
  </target>

  <!-- Make .jar file -->
  <target name="jar" depends="init">
    <echo>Creating sdshare jar file...</echo>
    <mkdir dir="${build.jars}"/>
    <delete file="${build.jars}/tmphoto.jar" />
    <jar basedir="${build.classes}" jarfile="${build.jars}/sdshare.jar">
      <patternset refid="classes"/>
    </jar>
  </target>
  
</project>
